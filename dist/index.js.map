{"version":3,"file":"index.js","sources":["../packages/react/hydra/default.ts","../packages/react/hydra/HydraProvider.tsx","../packages/react/hydra/useHydra.ts","../packages/react/hooks/useDynamicPanel.ts","../packages/react/hooks/useDefaults.ts","../packages/react/logic/string.ts","../packages/react/logic/dom.ts","../packages/react/logic/object.ts","../packages/react/components/Button.tsx","../packages/react/data/icons.tsx","../packages/react/data/motion.ts","../packages/react/components/Checkbox.tsx","../packages/react/components/Menu/MenuAction.tsx","../packages/react/components/Menu/SubmenuItem.tsx","../packages/react/components/Menu/MenuActions.tsx","../packages/react/components/Menu/Menu.tsx","../packages/react/components/Dropdown.tsx","../packages/react/components/SegmentedControl.tsx","../packages/react/components/Select.tsx","../packages/react/components/Switch.tsx"],"sourcesContent":["import { HydraConfig } from './types';\n\nexport const defaultConfig: HydraConfig = {\n  defaultProps: {\n    Button: {\n      variant: \"default\",\n      size: \"md\",\n      color: \"accent\",\n    },\n    Checkbox: {\n      layout: \"horizontal\",\n      color: \"accent\",\n    },\n    Dropdown: {},\n    Menu: {\n      actionSize: \"md\",\n      itemsBordered: false,\n      leaveDoesCloseMenu: true,\n      actionClickDoesCloseMenu: true\n    },\n    SegmentedControl: {\n      iconsOnly: false,\n    },\n    Select: {},\n    Switch: {\n      color: \"accent\",\n      layout: \"horizontal\",\n    },\n  }\n}","import React, { createContext } from \"react\"\n\nimport { defaultConfig } from \"./default\"\nimport { HydraConfig, THydraContext } from \"./types\"\nimport { Children } from \"../types\"\n\nexport const HydraContext = createContext<THydraContext>({\n\t...defaultConfig,\n})\n\ninterface HydraProviderProps extends Children {\n\tconfig?: HydraConfig\n}\n\nexport const HydraProvider = ({\n\tconfig = defaultConfig,\n\tchildren,\n}: HydraProviderProps) => {\n\tconst value: THydraContext = {\n\t\t...defaultConfig,\n\t\t...config,\n\t}\n\n\treturn (\n\t\t<HydraContext.Provider value={value}>{children}</HydraContext.Provider>\n\t)\n}\n","import { useContext } from 'react'\n\nimport { HydraContext } from './HydraProvider'\n\nexport const useHydra = () => {\n\tconst context = useContext(HydraContext)\n\n  return context\n}\n","import { useRef, useState, useEffect, RefObject, MouseEvent } from \"react\"\n\nexport interface DynamicPanel<ElementType> {\n\tref: RefObject<ElementType>\n\tisOpen: boolean\n\ttoggle: (ev?: MouseEvent) => void\n\topen: (ev?: MouseEvent) => void\n\tclose: (ev?: MouseEvent) => void\n}\n\nexport const useDynamicPanel = <\n\tElementType extends Element\n>(): DynamicPanel<ElementType> => {\n\tconst ref = useRef<ElementType>(null)\n\tconst [isOpen, setIsOpen] = useState(false)\n\n\tconst handleWindowClick = (ev: MouseEvent) => {\n\t\tif (\n\t\t\tref.current &&\n\t\t\ttypeof ref.current?.contains === \"function\" &&\n\t\t\t!ref.current.contains(ev.target as Node)\n\t\t) {\n\t\t\tclose(ev)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (typeof window !== \"undefined\" && ref.current && isOpen) {\n\t\t\t// I'm not really sure why TS is complaining here. It says that the\n\t\t\t// handleWindowClick function is invalid because it doesn't match the\n\t\t\t// signature of the event listener, which it supposes to be\n\t\t\t// (Window, MouseEvent), but if you log the arguments, you see\n\t\t\t// that only one is passed: MouseEvent (technically an instance\n\t\t\t// of PointerEvent, actually).\n\t\t\t//\n\t\t\t// @ts-ignore\n\t\t\twindow.addEventListener(\"click\", handleWindowClick)\n\t\t}\n\n\t\treturn () => {\n\t\t\t// @ts-ignore\n\t\t\twindow.removeEventListener(\"click\", handleWindowClick)\n\t\t}\n\t}, [ref.current, isOpen])\n\n\tconst open = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(true)\n\t}\n\n\tconst close = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(false)\n\t}\n\n\tconst toggle = (ev?: MouseEvent) => {\n\t\tif (ev) {\n\t\t\tev.stopPropagation()\n\t\t}\n\n\t\tsetIsOpen(isOpen => !isOpen)\n\t}\n\n\treturn {\n\t\tref,\n\t\tisOpen,\n\t\topen,\n\t\tclose,\n\t\ttoggle,\n\t}\n}\n","import { ComponentKey, defaultConfig, DefaultProps, useHydra } from \"../hydra\"\n\nexport const useDefaults = <T extends ComponentKey>(key: T): DefaultProps[T] => {\n\tconst { defaultProps } = useHydra()\n  return defaultProps[key] || defaultConfig.defaultProps[key]\n}\n","/**\n * Returns str in lower case and stripped of whitespace\n * @param {string}\n */\nexport const removeWhitespaceAndLowerCase = (str: string) => {\n\treturn str.toLowerCase().replace(/\\s/g, \"\")\n}\n\n/**\n * Converts a string to kebab-case.\n * @example kebabize(\"aCamelCaseString\") => \"a-camel-case-string\"\n */\nexport const kebabize = (str: string) => {\n\treturn str\n\t\t.replaceAll(\" \", \"-\")\n\t\t.split(\"\")\n\t\t.map((letter, index) => {\n\t\t\tif (letter === \"-\") {\n\t\t\t\treturn \"-\"\n\t\t\t}\n\n\t\t\treturn letter.toUpperCase() === letter\n\t\t\t\t? `${index !== 0 ? \"-\" : \"\"}${letter.toLowerCase()}`\n\t\t\t\t: letter\n\t\t})\n\t\t.join(\"\")\n}\n\nexport const toSlug = (str: string) => {\n\treturn str.replaceAll(\" \", \"-\").toLowerCase()\n}\n\nexport const capitalize = (word: string) => {\n  return word.charAt(0).toUpperCase() + word.slice(1)\n}","import { kebabize } from \"./string\"\n\ninterface Mods {\n\t[key: string]: any\n}\n\n/**\n *\n * @param {Mods} mods\n * @returns {string[]}\n * @note This is assumed to be placed into a call to classNames.\n *\n */\nexport const generateMods = (mods: Mods) => {\n\tconst keys = Object.keys(mods)\n\n\tif (keys.length === 0) {\n\t\treturn \"\"\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = mods[key]\n\n\t\tif (value === true) {\n\t\t\treturn kebabize(key)\n\t\t}\n\n\t\tif (!value) {\n\t\t\treturn \"\"\n\t\t}\n\n\t\treturn `${kebabize(key)}-${\n\t\t\ttypeof value === \"number\" ? value : kebabize(value)\n\t\t}`\n\t})\n}\n\nexport const smoothScrollTo = (elementId: string) => {\n\tconst element = document.getElementById(elementId)\n\tif (element) {\n\t\telement.scrollIntoView({ behavior: \"smooth\" })\n\t}\n}\n","export const omitFields = <T, Fields extends keyof T>(\n\tobject: T,\n\tfields: Array<Fields>\n): Omit<T, Fields> => {\n\treturn Object.assign(\n\t\t{},\n\t\tobject,\n\t\tObject.assign({}, ...fields.map(key => ({ [key]: undefined })))\n\t)\n}\n","import React, { MouseEventHandler } from \"react\"\nimport classNames from \"classnames\"\n\nimport { useDefaults } from '../hooks/useDefaults'\n\nimport { generateMods } from \"../logic\"\n\nimport { Color } from \"../types\"\n\n// TS doesn't like my color prop lol\n// @ts-ignore\nexport interface ButtonProps extends React.HTMLAttributes<HTMLButtonElement> {\n\tvariant?: \"default\" | \"secondary\"\n\tcolor?: Color\n\tsize?: \"sm\" | \"md\" | \"lg\"\n\trounded?: boolean\n\taltClass?: string\n\tclassName?: string\n}\n\nexport const Button = ({\n\tvariant,\n\tcolor,\n\tsize,\n\trounded,\n\tonClick: _onClick,\n\taltClass,\n\tclassName,\n\tchildren,\n\t...props\n}: ButtonProps) => {\n\tconst defaults = useDefaults(\"Button\")\n\n\tconst onClick: MouseEventHandler<HTMLButtonElement> = ev => {\n\t\tif (_onClick) _onClick(ev)\n\t}\n\n\treturn (\n\t\t// @ts-ignore - color prop\n\t\t<button\n\t\t\tclassName={classNames(\n\t\t\t\taltClass ?? \"hydra-button\",\n\t\t\t\tgenerateMods({\n\t\t\t\t\tvariant,\n\t\t\t\t\tcolor: color ?? defaults.color,\n\t\t\t\t\tsize: size ?? defaults.size,\n\t\t\t\t\trounded,\n\t\t\t\t}),\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\tonClick={onClick}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t)\n}","import React from 'react'\n\nexport const icons = {\n\tcheck: (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"16\"\n\t\t\theight=\"16\"\n\t\t\tfill=\"currentColor\"\n\t\t\tviewBox=\"0 0 16 16\"\n\t\t>\n\t\t\t<path d=\"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z\" />\n\t\t</svg>\n\t),\n}\n","import type { Variant } from \"framer-motion\"\n\nexport interface Variants {\n\thidden: Variant\n\tvisible: Variant\n\texit?: Variant\n}\n\nexport const variants = {\n\t// General animations\n\tfade: {\n\t\tdefault: {\n\t\t\thidden: { opacity: 0 },\n\t\t\tvisible: { opacity: 1 },\n\t\t},\n\t\tin: {\n\t\t\tup: {\n\t\t\t\thidden: { opacity: 0, y: 16 },\n\t\t\t\tvisible: { opacity: 1, y: 0 },\n\t\t\t},\n\t\t\tright: {\n\t\t\t\thidden: { opacity: 0, x: -16 },\n\t\t\t\tvisible: { opacity: 1, x: 0 },\n\t\t\t},\n\t\t},\n\t},\n\tscale: {\n\t\tfull: {\n\t\t\thidden: { opacity: 0, scale: 0 },\n\t\t\tvisible: { opacity: 1, scale: 1 },\n\t\t},\n\t\thalf: {\n\t\t\thidden: { opacity: 0, scale: 0.5 },\n\t\t\tvisible: { opacity: 1, scale: 1 },\n\t\t},\n\t\tpartial: {\n\t\t\thidden: { opacity: 0, scale: 0.85 },\n\t\t\tvisible: { opacity: 1, scale: 1 },\n\t\t},\n\t\tsubtle: {\n\t\t\thidden: { opacity: 0, scale: 0.95 },\n\t\t\tvisible: { opacity: 1, scale: 1 },\n\t\t},\n\t},\n\n\t// UI Component animations\n\tui: {\n\t\tmenu: {\n\t\t\t// hidden: { opacity: 0, height: 0 },\n\t\t\t// visible: { opacity: 1, height: \"auto\" },\n\t\t\t// hidden: { opacity: 0, y: -6 },\n\t\t\t// visible: { opacity: 1, y: 0 },\n\t\t},\n\t},\n} as const\n\nexport const transition = {\n\ttween: (duration: number = 0.5, delay: number = 0) => ({\n\t\ttype: \"tween\",\n\t\tduration,\n\t\tdelay,\n\t}),\n\tspring: (\n\t\tduration: number = 0.5,\n\t\tdelay: number = 0,\n\t\t{ stiffness = 100, damping = 100 }\n\t) => ({\n\t\ttype: \"spring\",\n\t\tduration,\n\t\tdelay,\n\t\tstiffness,\n\t\tdamping,\n\t}),\n\tui: {\n\t\tmenu: {\n\t\t\ttype: \"spring\",\n\t\t\tduration: 0.3,\n\t\t},\n\t},\n} as const\n\nexport const spring = {\n\tsmooth: { stiffness: 1000, damping: 100 },\n\tsmoother: { stiffness: 500, damping: 100 },\n\tsmoothest: { stiffness: 50, damping: 100 },\n}\n","import React, { useCallback, useState } from \"react\"\nimport classNames from \"classnames\"\n\nimport { useDefaults } from \"../hooks/useDefaults\"\n\nimport { generateMods } from \"../logic\"\nimport { icons } from \"../data\"\n\nimport { Color, Layout } from \"../types\"\n\nexport interface CheckboxProps {\n\tonChange?: (currentValue: boolean) => void\n\tlabel?: string | ((currentValue: boolean) => string)\n\tlayout?: Layout\n\tdefaultChecked?: boolean\n\tcolor?: Color\n\taltClass?: string\n\tclassName?: string\n\ttoggleControlAltClass?: string\n\ttoggleControlClassname?: string\n}\n\nexport const Checkbox = ({\n\tlabel,\n\tlayout,\n\tdefaultChecked,\n\tonChange,\n\tcolor,\n\taltClass,\n\tclassName,\n\ttoggleControlAltClass,\n\ttoggleControlClassname,\n}: CheckboxProps) => {\n\tconst defaults = useDefaults(\"Checkbox\")\n\tconst [checked, setChecked] = useState(defaultChecked || false)\n\n\tconst toggle = useCallback(() => {\n\t\tsetChecked(!checked)\n\t\tonChange && onChange(!checked)\n\t}, [checked])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\ttoggleControlAltClass ?? \"hydra-toggle-control\",\n\t\t\t\ttoggleControlClassname,\n\t\t\t\tlayout ?? defaults.layout\n\t\t\t)}\n\t\t>\n\t\t\t<button\n\t\t\t\tonClick={toggle}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\taltClass ?? \"hydra-checkbox\",\n\t\t\t\t\tgenerateMods({ color: color ?? defaults.color }),\n\t\t\t\t\tclassName\n\t\t\t\t)}\n\t\t\t\tdata-checked={checked}\n\t\t\t>\n\t\t\t\t{checked && <i className=\"icon size-5\">{icons.check}</i>}\n\t\t\t</button>\n\n\t\t\t{label && (\n\t\t\t\t<div className=\"label-wrap\" onClick={toggle}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{typeof label === \"function\" ? label(checked) : label}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n","import React, { MouseEventHandler, useRef } from \"react\"\nimport classNames from \"classnames\"\n\nimport { generateMods } from \"../../logic\"\n\nimport { Action, ActionConfig } from \"./types\"\n\ninterface Props extends Action {\n\tsubmenuOpen?: boolean\n\tconfig: ActionConfig\n}\n\nconst MenuAction = ({\n\tonClick: _onClick,\n\tlabel,\n\ticonLeft,\n\ticonRight,\n\tcontentRight,\n\tsubmenuOpen,\n\tconfig,\n}: Props) => {\n\tconst ref = useRef<HTMLButtonElement>(null)\n\n\tconst onClick: MouseEventHandler = ev => {\n\t\tif (typeof _onClick === \"function\") {\n\t\t\t_onClick(ev)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"action-wrap\">\n\t\t\t<button\n\t\t\t\tref={ref}\n\t\t\t\tonClick={onClick}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t\"menu-action px-4 py-2-5\",\n\t\t\t\t\tgenerateMods({ submenuOpen, color: config.color || \"gray\" })\n\t\t\t\t)}\n\t\t\t\trole=\"menuitem\"\n\t\t\t\ttabIndex={0}\n\t\t\t>\n\t\t\t\t<div className=\"action-content\">\n\t\t\t\t\t<div className=\"wfull SBStack\">\n\t\t\t\t\t\t<div className=\"HStack\">\n\t\t\t\t\t\t\t{iconLeft && (\n\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t<i className=\"icon size-5\">{iconLeft}</i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span>{label}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"HStack\">\n\t\t\t\t\t\t\t{iconRight && (\n\t\t\t\t\t\t\t\t<div className=\"relative flex-c\">\n\t\t\t\t\t\t\t\t\t<i className=\"icon size-5\">{iconRight}</i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{contentRight}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default MenuAction\n","import React, { useState } from \"react\"\nimport { AnimatePresence, motion, useReducedMotion } from \"framer-motion\"\nimport { ChevronRightIcon } from \"@heroicons/react/20/solid\"\n\nimport MenuActions from \"./MenuActions\"\nimport MenuAction from \"./MenuAction\"\n\nimport { variants } from \"../../data\"\n\nimport { Action, ActionConfig } from \"./types\"\nimport { omitFields } from \"../../logic\"\n\ninterface Props {\n\tactionProps: ActionProps\n\tconfig: ActionConfig\n}\n\ninterface ActionProps extends Action {\n\tindex: number\n}\n\nconst SubmenuItem = ({ actionProps, config }: Props) => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst shouldReduceMotion = useReducedMotion()\n\n\tconst open = () => setIsOpen(true)\n\tconst close = () => setIsOpen(false)\n\n\tconst props = omitFields(actionProps, [\"onClick\"])\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"wrapper\"\n\t\t\tonFocus={open}\n\t\t\tonBlur={close}\n\t\t\tonMouseOver={open}\n\t\t\tonMouseLeave={close}\n\t\t>\n\t\t\t<MenuAction\n\t\t\t\tsubmenuOpen={isOpen}\n\t\t\t\tconfig={config}\n\t\t\t\ticonRight={<ChevronRightIcon />}\n\t\t\t\tonClick={ev => {\n\t\t\t\t\tev?.preventDefault()\n\n\t\t\t\t\tif (typeof actionProps.onClick === \"function\") {\n\t\t\t\t\t\tactionProps.onClick(ev)\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\n\t\t\t<AnimatePresence>\n\t\t\t\t{isOpen && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tvariants={variants.fade.in.right}\n\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tshouldReduceMotion\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\ttype: \"spring\",\n\t\t\t\t\t\t\t\t\t\tbounce: 0.35,\n\t\t\t\t\t\t\t\t\t\tduration: 0.4,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName=\"hydra-submenu\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuActions\n\t\t\t\t\t\t\tactions={actionProps.submenu ?? []}\n\t\t\t\t\t\t\tactionClickDoesCloseMenu\n\t\t\t\t\t\t\tclose={close}\n\t\t\t\t\t\t\tconfig={config}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</motion.div>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t</div>\n\t)\n}\n\nexport default SubmenuItem\n","import React, { MouseEventHandler } from \"react\"\nimport { omitFields } from \"../../logic\"\n\nimport MenuAction from \"./MenuAction\"\nimport SubmenuItem from \"./SubmenuItem\"\n\nimport { Action, ActionConfig } from \"./types\"\n\ninterface Props {\n\tactions: Action[]\n\tactionClickDoesCloseMenu?: boolean\n\tclose: () => void\n\tconfig: ActionConfig\n}\n\nconst MenuActions = ({\n\tactions,\n\tactionClickDoesCloseMenu,\n\tclose,\n\tconfig,\n}: Props) => {\n\treturn (\n\t\t<div className=\"w-100p actions\" role=\"none\">\n\t\t\t{actions.map((action, index) => {\n\t\t\t\tconst onClick: MouseEventHandler = ev => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tactionClickDoesCloseMenu &&\n\t\t\t\t\t\taction.clickDoesCloseMenu !== false\n\t\t\t\t\t) {\n\t\t\t\t\t\tclose()\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof action.onClick === \"function\") {\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\taction.onClick(ev)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (action.label === \"separator\") {\n\t\t\t\t\treturn <div key={action.id} className=\"separator\"></div>\n\t\t\t\t}\n\n\t\t\t\tconst _actionProps = omitFields(\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t...action,\n\t\t\t\t\t},\n\t\t\t\t\t[\"onClick\"]\n\t\t\t\t)\n\n\t\t\t\tconst actionProps = {\n\t\t\t\t\t..._actionProps,\n\t\t\t\t\tonClick: onClick,\n\t\t\t\t}\n\n\t\t\t\tif (action.submenu) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SubmenuItem\n\t\t\t\t\t\t\tkey={action.label}\n\t\t\t\t\t\t\tactionProps={actionProps}\n\t\t\t\t\t\t\tconfig={config}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<MenuAction\n\t\t\t\t\t\tkey={action.label}\n\t\t\t\t\t\tconfig={config}\n\t\t\t\t\t\t{...actionProps}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nexport default MenuActions\n","import React, { ForwardedRef, forwardRef, useState } from \"react\"\nimport { AnimatePresence, useReducedMotion, motion } from \"framer-motion\"\nimport classNames from \"classnames\"\n\nimport { useDefaults } from \"../../hooks/useDefaults\"\n\nimport MenuActions from \"./MenuActions\"\n\nimport { transition, variants } from \"../../data\"\n\nimport { Action, ActionConfig } from \"./types\"\nimport { generateMods } from \"../../logic\"\n\nexport interface MenuProps {\n\tisOpen: boolean\n\tclose: () => void\n\tactions: Action[]\n\n\tconfig?: ActionConfig\n\n\torigin?: string\n\ttop?: number | string | boolean\n\tright?: number | string | boolean\n\tbottom?: number | string | boolean\n\tleft?: number | string | boolean\n\n\tactionSize?: \"sm\" | \"md\"\n\n\t// Mods\n\titemsBordered?: boolean\n\tleaveDoesCloseMenu?: boolean\n\tactionClickDoesCloseMenu?: boolean\n\n\t[key: string]: any\n}\n\nexport const Menu = forwardRef(\n\t(\n\t\t{\n\t\t\tisOpen,\n\t\t\tclose,\n\t\t\tactions,\n\n\t\t\tconfig,\n\n\t\t\torigin,\n\t\t\ttop,\n\t\t\tright,\n\t\t\tbottom,\n\t\t\tleft,\n\n\t\t\tactionSize,\n\n\t\t\titemsBordered,\n\t\t\tleaveDoesCloseMenu,\n\t\t\tactionClickDoesCloseMenu,\n\n\t\t\tclassName,\n\t\t\t...props\n\t\t}: MenuProps,\n\t\tref: ForwardedRef<HTMLDivElement>\n\t) => {\n\t\tconst defaults = useDefaults(\"Menu\")\n\t\tconst [isAnimating, setIsAnimating] = useState(false)\n\n\t\tconst shouldReduceMotion = useReducedMotion()\n\n\t\tconst getPositionValue = (\n\t\t\tvalue: number | string | boolean | undefined\n\t\t): string => {\n\t\t\tif (typeof value === \"undefined\") {\n\t\t\t\treturn \"auto\"\n\t\t\t}\n\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\treturn \"0\"\n\t\t\t}\n\n\t\t\tif (typeof value === \"number\") {\n\t\t\t\treturn `${value}px`\n\t\t\t}\n\n\t\t\treturn value\n\t\t}\n\n\t\tconst onMouseLeave = () => {\n\t\t\tif (leaveDoesCloseMenu ?? defaults.leaveDoesCloseMenu) {\n\t\t\t\tclose()\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<AnimatePresence>\n\t\t\t\t{isOpen && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tvariants={variants.scale.subtle}\n\t\t\t\t\t\tinitial=\"hidden\"\n\t\t\t\t\t\tanimate=\"visible\"\n\t\t\t\t\t\texit=\"hidden\"\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tshouldReduceMotion\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: transition.ui.menu\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\"hydra-menu\",\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\tgenerateMods({\n\t\t\t\t\t\t\t\tactionSize: actionSize ?? defaults.actionSize,\n\t\t\t\t\t\t\t\titemsBordered,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttransformOrigin: origin,\n\t\t\t\t\t\t\ttop: getPositionValue(top),\n\t\t\t\t\t\t\tright: getPositionValue(right),\n\t\t\t\t\t\t\tbottom: getPositionValue(bottom),\n\t\t\t\t\t\t\tleft: getPositionValue(left),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trole=\"menu\"\n\t\t\t\t\t\taria-orientation=\"vertical\"\n\t\t\t\t\t\taria-labelledby=\"menu-button\"\n\t\t\t\t\t\taria-busy={isAnimating}\n\t\t\t\t\t\tonClick={ev => ev.stopPropagation()}\n\t\t\t\t\t\tonAnimationStart={() => setIsAnimating(true)}\n\t\t\t\t\t\tonAnimationComplete={() => setIsAnimating(false)}\n\t\t\t\t\t\tonMouseLeave={onMouseLeave}\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"wfull p-0\">\n\t\t\t\t\t\t\t<MenuActions\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\tactionClickDoesCloseMenu={\n\t\t\t\t\t\t\t\t\tactionClickDoesCloseMenu ??\n\t\t\t\t\t\t\t\t\tdefaults.actionClickDoesCloseMenu\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclose={close}\n\t\t\t\t\t\t\t\tconfig={\n\t\t\t\t\t\t\t\t\tconfig ??\n\t\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\t\t\t\t\t} as ActionConfig)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <Keyboard\n\t\t\t\t\t\t\t\tkeys={[\"esc\"]}\n\t\t\t\t\t\t\t\tonKeyPress={(key, ev) => {\n\t\t\t\t\t\t\t\t\tev.preventDefault()\n\n\t\t\t\t\t\t\t\t\tif (key === \"esc\") {\n\t\t\t\t\t\t\t\t\t\tclose()\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thandleFocusableElements\n\t\t\t\t\t\t\t\tisExclusive\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t</motion.div>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t)\n\t}\n)\n\nMenu.defaultProps = {\n\torigin: \"top left\",\n\ttop: \"1rem\",\n\tactionSize: \"sm\",\n\n\tleaveDoesCloseMenu: false,\n\tactionClickDoesCloseMenu: true,\n}\n","// A controlled Menu component ideal for showing a list of actions.\n\nimport React from \"react\"\n\nimport { useDynamicPanel } from \"../hooks\"\n\nimport { Button } from \"./Button\"\nimport { Menu, MenuProps } from \"./Menu\"\n\nimport { Action } from \"../types\"\n\nexport interface DropdownProps {\n\tactions: Action[]\n\tmenuProps?: Partial<MenuProps>\n}\n\nexport const Dropdown = ({ actions, menuProps }: DropdownProps) => {\n\tconst menu = useDynamicPanel<HTMLDivElement>()\n\n\treturn (\n\t\t<div className=\"hydra-dropdown\">\n\t\t\t<Button onClick={menu.toggle} size=\"sm\">\n\t\t\t\tOpen\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\ttop={menuProps?.top || 42}\n\t\t\t\tactions={actions}\n\t\t\t\t{...menu}\n\t\t\t\t{...menuProps}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport classNames from \"classnames\"\n\nimport { useDefaults } from \"../hooks/useDefaults\"\n\nimport { capitalize, generateMods } from \"../logic\"\n\nexport interface SegmentedControlProps {\n\tsegments: Segment[]\n\tdefaultSelected?: number\n\tonChange?: (segment: Segment) => void\n\n\taltClass?: string\n\tclassName?: string\n\n\t// Mods\n\ticonsOnly?: boolean\n}\n\nexport interface Segment {\n\tlabel: string\n\ticon?: React.ReactNode\n}\n\nexport const SegmentedControl = ({\n\tsegments,\n\tdefaultSelected,\n\tonChange,\n\n\taltClass,\n\tclassName,\n\n\ticonsOnly,\n}: SegmentedControlProps) => {\n\tconst defaults = useDefaults(\"SegmentedControl\")\n\tconst [selected, setSelected] = useState<number | undefined>(undefined)\n\n\tconst [indicatorStyle, setIndicatorStyle] = useState<React.CSSProperties>({\n\t\twidth: \"auto\",\n\t\tleft: 0,\n\t})\n\n\tconst getSegmentID = (segment: Segment) =>\n\t\t`segment-${segment.label.replaceAll(\" \", \"-\")}`\n\n\tuseEffect(() => {\n\t\tif (selected === undefined) {\n\t\t\tselect(segments[defaultSelected ?? 0])\n\t\t}\n\t}, [defaultSelected])\n\n\tconst select = (segment: Segment) => {\n\t\tsetSelected(segments.indexOf(segment))\n\n\t\tconst elem = document.getElementById(getSegmentID(segment))\n\n\t\tsetIndicatorStyle({\n\t\t\twidth: elem?.offsetWidth ?? \"auto\",\n\t\t\tleft: elem?.offsetLeft ?? 0,\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (typeof onChange === \"function\") {\n\t\t\tonChange(segments[selected || 0])\n\t\t}\n\t}, [selected])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\taltClass ?? \"hydra-segmented-control\",\n\t\t\t\tclassName,\n\t\t\t\tgenerateMods({ iconsOnly: iconsOnly ?? defaults.iconsOnly })\n\t\t\t)}\n\t\t\tonMouseLeave={() => select(segments[selected || 0])}\n\t\t>\n\t\t\t<div className=\"indicator\" style={indicatorStyle}></div>\n\n\t\t\t<div className={classNames(\"controls\")}>\n\t\t\t\t{segments.map((segment, index) => {\n\t\t\t\t\tconst isSelected = selected === index\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={segment.label}\n\t\t\t\t\t\t\tid={getSegmentID(segment)}\n\t\t\t\t\t\t\ttitle={capitalize(segment.label)}\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\"segment\",\n\t\t\t\t\t\t\t\tgenerateMods({ isSelected })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={() => select(segment)}\n\t\t\t\t\t\t\tonMouseOver={() => {\n\t\t\t\t\t\t\t\tconst elem = document.getElementById(\n\t\t\t\t\t\t\t\t\tgetSegmentID(segment)\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\tsetIndicatorStyle({\n\t\t\t\t\t\t\t\t\twidth: elem?.offsetWidth ?? \"auto\",\n\t\t\t\t\t\t\t\t\tleft: elem?.offsetLeft ?? 0,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{segment.icon && (\n\t\t\t\t\t\t\t\t<i className=\"icon size-5 mr-1\">\n\t\t\t\t\t\t\t\t\t{segment.icon}\n\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span>{segment.label}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import classNames from \"classnames\"\nimport React, { useMemo } from \"react\"\n\nimport { useDynamicPanel } from \"../hooks\"\n\nimport { Menu, MenuProps } from \"./Menu\"\n\nexport interface Option {\n\tlabel: string\n\tvalue: string\n}\n\nexport interface SelectProps {\n\toptions: Option[]\n\tdefaultSelected?: Option\n\tonChange?: (option: Option) => void\n\ttriggerChildren: ((selected: Option) => React.ReactNode) | React.ReactNode\n\ttriggerClassName?: string\n\tmenuProps?: Partial<MenuProps>\n}\n\nexport const Select = ({\n\toptions,\n\tdefaultSelected,\n\tonChange,\n\ttriggerChildren,\n\ttriggerClassName,\n\tmenuProps,\n}: SelectProps) => {\n\tconst menu = useDynamicPanel<HTMLDivElement>()\n\n\tconst [selected, setSelected] = React.useState<Option>(\n\t\tdefaultSelected || options[0]\n\t)\n\n\tconst select = (option: Option) => {\n\t\tsetSelected(option)\n\n\t\tif (typeof onChange === \"function\") {\n\t\t\tonChange(option)\n\t\t}\n\n\t\tmenu.close()\n\t}\n\n\tconst actions = useMemo(() => {\n\t\treturn options.map(option => {\n\t\t\tconst isSelected = selected?.value === option.value\n\n\t\t\treturn {\n\t\t\t\t...option,\n\t\t\t\tonClick: () => select(option),\n\t\t\t\tcontentRight: isSelected && <div className=\"dot\" />,\n\t\t\t}\n\t\t})\n\t}, [options, selected])\n\n\treturn (\n\t\t<div className=\"hydra-select\">\n\t\t\t<button\n\t\t\t\tonClick={menu.toggle}\n\t\t\t\tclassName={classNames(triggerClassName)}\n\t\t\t>\n\t\t\t\t{typeof triggerChildren === \"function\"\n\t\t\t\t\t? triggerChildren(selected)\n\t\t\t\t\t: triggerChildren}\n\t\t\t</button>\n\n\t\t\t<Menu actions={actions} {...menu} {...menuProps} />\n\t\t</div>\n\t)\n}\n","import React, { useCallback, useState } from \"react\"\nimport classNames from \"classnames\"\n\nimport { useDefaults } from \"../hooks/useDefaults\"\n\nimport { generateMods } from \"../logic\"\n\nimport { Color, Layout } from \"../types\"\n\nexport interface SwitchProps {\n\tlabel?: string | ((currentValue: boolean) => string)\n\tonChange?: (currentValue: boolean) => void\n\tdefaultOn?: boolean\n\tlayout?: Layout\n\tcolor?: Color\n\taltClass?: string\n\tclassName?: string\n\ttoggleControlAltClass?: string\n\ttoggleControlClassname?: string\n}\n\nexport const Switch = ({\n\tclassName,\n\taltClass,\n\tdefaultOn,\n\ttoggleControlAltClass,\n\ttoggleControlClassname,\n\tonChange,\n\tlabel,\n\tlayout,\n\tcolor,\n}: SwitchProps) => {\n\tconst defaults = useDefaults(\"Switch\")\n\tconst [on, setOn] = useState(defaultOn || false)\n\n\tconst toggle = useCallback(() => {\n\t\tsetOn(!on)\n\t\tonChange && onChange(!on)\n\t}, [on])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\ttoggleControlAltClass ?? \"hydra-toggle-control\",\n\t\t\t\tlayout ?? defaults.layout,\n\t\t\t\ttoggleControlClassname\n\t\t\t)}\n\t\t>\n\t\t\t<button\n\t\t\t\tonClick={toggle}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\taltClass ?? \"hydra-switch\",\n\t\t\t\t\tgenerateMods({ on, color: color ?? defaults.color }),\n\t\t\t\t\tclassName\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div className=\"bg\"></div>\n\t\t\t</button>\n\n\t\t\t{label && (\n\t\t\t\t<div className=\"label-wrap\" onClick={toggle}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{typeof label === \"function\" ? label(on) : label}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSwitch.defaultProps = {\n\tlayout: \"horizontal\",\n\tcolor: \"accent\",\n}\n"],"names":["defaultConfig","defaultProps","Button","variant","size","color","Checkbox","layout","Dropdown","Menu","actionSize","itemsBordered","leaveDoesCloseMenu","actionClickDoesCloseMenu","SegmentedControl","iconsOnly","Select","Switch","HydraContext","createContext","HydraProvider","config","children","value","React","Provider","useHydra","context","useContext","useDynamicPanel","ref","useRef","useState","isOpen","setIsOpen","handleWindowClick","ev","current","contains","target","close","useEffect","window","addEventListener","removeEventListener","open","stopPropagation","toggle","useDefaults","key","kebabize","str","replaceAll","split","map","letter","index","toUpperCase","toLowerCase","join","capitalize","word","charAt","slice","generateMods","mods","keys","Object","length","omitFields","object","fields","assign","undefined","rounded","_onClick","onClick","altClass","className","props","defaults","classNames","icons","check","xmlns","width","height","fill","viewBox","d","variants","fade","hidden","opacity","visible","up","y","right","x","scale","full","half","partial","subtle","ui","menu","transition","tween","duration","delay","type","spring","stiffness","damping","label","defaultChecked","onChange","toggleControlAltClass","toggleControlClassname","checked","setChecked","useCallback","MenuAction","iconLeft","iconRight","contentRight","submenuOpen","role","tabIndex","SubmenuItem","actionProps","shouldReduceMotion","useReducedMotion","onFocus","onBlur","onMouseOver","onMouseLeave","ChevronRightIcon","preventDefault","AnimatePresence","motion","div","initial","animate","exit","bounce","MenuActions","actions","submenu","action","clickDoesCloseMenu","id","_actionProps","forwardRef","origin","top","bottom","left","isAnimating","setIsAnimating","getPositionValue","style","transformOrigin","onAnimationStart","onAnimationComplete","menuProps","segments","defaultSelected","selected","setSelected","indicatorStyle","setIndicatorStyle","getSegmentID","segment","select","indexOf","elem","document","getElementById","offsetWidth","offsetLeft","isSelected","title","icon","options","triggerChildren","triggerClassName","option","useMemo","defaultOn","on","setOn"],"mappings":"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"}